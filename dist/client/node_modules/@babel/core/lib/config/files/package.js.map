{"version":3,"sources":["../../../../../../../../client/node_modules/@babel/core/lib/config/files/package.js"],"names":["Object","defineProperty","exports","value","findPackageData","_path","data","_interopRequireDefault","require","_utils","obj","__esModule","default","PACKAGE_FILENAME","filepath","pkg","directories","isPackage","dirname","basename","push","readConfigPackage","join","nextLoc","makeStaticFileCache","content","options","JSON","parse","err","message","Error","Array","isArray"],"mappings":"AAAA;;;;AAEAA,OAAOC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,SAAO;AADoC,CAA7C;AAGAD,QAAQE,eAAR,GAA0BA,eAA1B;;AAEA,SAASC,KAAT,GAAiB;AACf,MAAMC,OAAOC,uBAAuBC,QAAQ,MAAR,CAAvB,CAAb;;AAEAH,UAAQ,iBAAY;AAClB,WAAOC,IAAP;AACD,GAFD;;AAIA,SAAOA,IAAP;AACD;;AAED,IAAIG,SAASD,QAAQ,SAAR,CAAb;;AAEA,SAASD,sBAAT,CAAgCG,GAAhC,EAAqC;AAAE,SAAOA,OAAOA,IAAIC,UAAX,GAAwBD,GAAxB,GAA8B,EAAEE,SAASF,GAAX,EAArC;AAAwD;;AAE/F,IAAMG,mBAAmB,cAAzB;;AAEA,SAAST,eAAT,CAAyBU,QAAzB,EAAmC;AACjC,MAAIC,MAAM,IAAV;AACA,MAAMC,cAAc,EAApB;AACA,MAAIC,YAAY,IAAhB;;AAEA,MAAIC,UAAUb,QAAQO,OAAR,CAAgBM,OAAhB,CAAwBJ,QAAxB,CAAd;;AAEA,SAAO,CAACC,GAAD,IAAQV,QAAQO,OAAR,CAAgBO,QAAhB,CAAyBD,OAAzB,MAAsC,cAArD,EAAqE;AACnEF,gBAAYI,IAAZ,CAAiBF,OAAjB;AACAH,UAAMM,kBAAkBhB,QAAQO,OAAR,CAAgBU,IAAhB,CAAqBJ,OAArB,EAA8BL,gBAA9B,CAAlB,CAAN;;AAEA,QAAMU,UAAUlB,QAAQO,OAAR,CAAgBM,OAAhB,CAAwBA,OAAxB,CAAhB;;AAEA,QAAIA,YAAYK,OAAhB,EAAyB;AACvBN,kBAAY,KAAZ;AACA;AACD;;AAEDC,cAAUK,OAAV;AACD;;AAED,SAAO;AACLT,sBADK;AAELE,4BAFK;AAGLD,YAHK;AAILE;AAJK,GAAP;AAMD;;AAED,IAAMI,oBAAoB,CAAC,GAAGZ,OAAOe,mBAAX,EAAgC,UAACV,QAAD,EAAWW,OAAX,EAAuB;AAC/E,MAAIC,gBAAJ;;AAEA,MAAI;AACFA,cAAUC,KAAKC,KAAL,CAAWH,OAAX,CAAV;AACD,GAFD,CAEE,OAAOI,GAAP,EAAY;AACZA,QAAIC,OAAJ,GAAiBhB,QAAjB,qCAAyDe,IAAIC,OAA7D;AACA,UAAMD,GAAN;AACD;;AAED,MAAI,QAAOH,OAAP,yCAAOA,OAAP,OAAmB,QAAvB,EAAiC;AAC/B,UAAM,IAAIK,KAAJ,CAAajB,QAAb,yCAAwDY,OAAxD,yCAAwDA,OAAxD,GAAN;AACD;;AAED,MAAIM,MAAMC,OAAN,CAAcP,OAAd,CAAJ,EAA4B;AAC1B,UAAM,IAAIK,KAAJ,CAAajB,QAAb,8CAAN;AACD;;AAED,SAAO;AACLA,sBADK;AAELI,aAASb,QAAQO,OAAR,CAAgBM,OAAhB,CAAwBJ,QAAxB,CAFJ;AAGLY;AAHK,GAAP;AAKD,CAvByB,CAA1B","file":"package.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.findPackageData = findPackageData;\n\nfunction _path() {\n  const data = _interopRequireDefault(require(\"path\"));\n\n  _path = function () {\n    return data;\n  };\n\n  return data;\n}\n\nvar _utils = require(\"./utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst PACKAGE_FILENAME = \"package.json\";\n\nfunction findPackageData(filepath) {\n  let pkg = null;\n  const directories = [];\n  let isPackage = true;\n\n  let dirname = _path().default.dirname(filepath);\n\n  while (!pkg && _path().default.basename(dirname) !== \"node_modules\") {\n    directories.push(dirname);\n    pkg = readConfigPackage(_path().default.join(dirname, PACKAGE_FILENAME));\n\n    const nextLoc = _path().default.dirname(dirname);\n\n    if (dirname === nextLoc) {\n      isPackage = false;\n      break;\n    }\n\n    dirname = nextLoc;\n  }\n\n  return {\n    filepath,\n    directories,\n    pkg,\n    isPackage\n  };\n}\n\nconst readConfigPackage = (0, _utils.makeStaticFileCache)((filepath, content) => {\n  let options;\n\n  try {\n    options = JSON.parse(content);\n  } catch (err) {\n    err.message = `${filepath}: Error while parsing JSON - ${err.message}`;\n    throw err;\n  }\n\n  if (typeof options !== \"object\") {\n    throw new Error(`${filepath}: Config returned typeof ${typeof options}`);\n  }\n\n  if (Array.isArray(options)) {\n    throw new Error(`${filepath}: Expected config object but found array`);\n  }\n\n  return {\n    filepath,\n    dirname: _path().default.dirname(filepath),\n    options\n  };\n});"]}