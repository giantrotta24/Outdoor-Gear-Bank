{"version":3,"sources":["../../../../../../../../client/node_modules/@babel/core/lib/config/files/configuration.js"],"names":["Object","defineProperty","exports","value","findConfigUpwards","findRelativeConfig","findRootConfig","loadConfig","_debug","data","_interopRequireDefault","require","_path","_fs","_json","_resolve","_caching","_configApi","_utils","_patternToRegex","obj","__esModule","default","debug","BABEL_CONFIG_JS_FILENAME","BABELRC_FILENAME","BABELRC_JS_FILENAME","BABELIGNORE_FILENAME","rootDir","dirname","existsSync","join","nextDir","packageData","envName","caller","config","ignore","filepath","loc","reduce","previousConfig","name","readConfig","Error","basename","pkgConfig","pkg","packageToBabelConfig","ignoreLoc","readIgnoreConfig","directories","resolve","conf","sync","basedir","extname","readConfigJS","readConfigJSON5","LOADING_CONFIGS","Set","makeStrongCache","cache","forever","has","never","options","add","configModule","undefined","err","message","delete","configured","throwConfigError","Array","isArray","then","makeWeakCache","babel","file","makeStaticFileCache","content","parse","ignoreDir","ignorePatterns","split","map","line","replace","trim","filter","pattern"],"mappings":"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","file":"configuration.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.findConfigUpwards = findConfigUpwards;\nexports.findRelativeConfig = findRelativeConfig;\nexports.findRootConfig = findRootConfig;\nexports.loadConfig = loadConfig;\n\nfunction _debug() {\n  const data = _interopRequireDefault(require(\"debug\"));\n\n  _debug = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _path() {\n  const data = _interopRequireDefault(require(\"path\"));\n\n  _path = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _fs() {\n  const data = _interopRequireDefault(require(\"fs\"));\n\n  _fs = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _json() {\n  const data = _interopRequireDefault(require(\"json5\"));\n\n  _json = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _resolve() {\n  const data = _interopRequireDefault(require(\"resolve\"));\n\n  _resolve = function () {\n    return data;\n  };\n\n  return data;\n}\n\nvar _caching = require(\"../caching\");\n\nvar _configApi = _interopRequireDefault(require(\"../helpers/config-api\"));\n\nvar _utils = require(\"./utils\");\n\nvar _patternToRegex = _interopRequireDefault(require(\"../pattern-to-regex\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst debug = (0, _debug().default)(\"babel:config:loading:files:configuration\");\nconst BABEL_CONFIG_JS_FILENAME = \"babel.config.js\";\nconst BABELRC_FILENAME = \".babelrc\";\nconst BABELRC_JS_FILENAME = \".babelrc.js\";\nconst BABELIGNORE_FILENAME = \".babelignore\";\n\nfunction findConfigUpwards(rootDir) {\n  let dirname = rootDir;\n\n  while (true) {\n    if (_fs().default.existsSync(_path().default.join(dirname, BABEL_CONFIG_JS_FILENAME))) {\n      return dirname;\n    }\n\n    const nextDir = _path().default.dirname(dirname);\n\n    if (dirname === nextDir) break;\n    dirname = nextDir;\n  }\n\n  return null;\n}\n\nfunction findRelativeConfig(packageData, envName, caller) {\n  let config = null;\n  let ignore = null;\n\n  const dirname = _path().default.dirname(packageData.filepath);\n\n  for (const loc of packageData.directories) {\n    if (!config) {\n      config = [BABELRC_FILENAME, BABELRC_JS_FILENAME].reduce((previousConfig, name) => {\n        const filepath = _path().default.join(loc, name);\n\n        const config = readConfig(filepath, envName, caller);\n\n        if (config && previousConfig) {\n          throw new Error(`Multiple configuration files found. Please remove one:\\n` + ` - ${_path().default.basename(previousConfig.filepath)}\\n` + ` - ${name}\\n` + `from ${loc}`);\n        }\n\n        return config || previousConfig;\n      }, null);\n      const pkgConfig = packageData.pkg && packageData.pkg.dirname === loc ? packageToBabelConfig(packageData.pkg) : null;\n\n      if (pkgConfig) {\n        if (config) {\n          throw new Error(`Multiple configuration files found. Please remove one:\\n` + ` - ${_path().default.basename(pkgConfig.filepath)}#babel\\n` + ` - ${_path().default.basename(config.filepath)}\\n` + `from ${loc}`);\n        }\n\n        config = pkgConfig;\n      }\n\n      if (config) {\n        debug(\"Found configuration %o from %o.\", config.filepath, dirname);\n      }\n    }\n\n    if (!ignore) {\n      const ignoreLoc = _path().default.join(loc, BABELIGNORE_FILENAME);\n\n      ignore = readIgnoreConfig(ignoreLoc);\n\n      if (ignore) {\n        debug(\"Found ignore %o from %o.\", ignore.filepath, dirname);\n      }\n    }\n  }\n\n  return {\n    config,\n    ignore\n  };\n}\n\nfunction findRootConfig(dirname, envName, caller) {\n  const filepath = _path().default.resolve(dirname, BABEL_CONFIG_JS_FILENAME);\n\n  const conf = readConfig(filepath, envName, caller);\n\n  if (conf) {\n    debug(\"Found root config %o in $o.\", BABEL_CONFIG_JS_FILENAME, dirname);\n  }\n\n  return conf;\n}\n\nfunction loadConfig(name, dirname, envName, caller) {\n  const filepath = _resolve().default.sync(name, {\n    basedir: dirname\n  });\n\n  const conf = readConfig(filepath, envName, caller);\n\n  if (!conf) {\n    throw new Error(`Config file ${filepath} contains no configuration data`);\n  }\n\n  debug(\"Loaded config %o from $o.\", name, dirname);\n  return conf;\n}\n\nfunction readConfig(filepath, envName, caller) {\n  return _path().default.extname(filepath) === \".js\" ? readConfigJS(filepath, {\n    envName,\n    caller\n  }) : readConfigJSON5(filepath);\n}\n\nconst LOADING_CONFIGS = new Set();\nconst readConfigJS = (0, _caching.makeStrongCache)((filepath, cache) => {\n  if (!_fs().default.existsSync(filepath)) {\n    cache.forever();\n    return null;\n  }\n\n  if (LOADING_CONFIGS.has(filepath)) {\n    cache.never();\n    debug(\"Auto-ignoring usage of config %o.\", filepath);\n    return {\n      filepath,\n      dirname: _path().default.dirname(filepath),\n      options: {}\n    };\n  }\n\n  let options;\n\n  try {\n    LOADING_CONFIGS.add(filepath);\n\n    const configModule = require(filepath);\n\n    options = configModule && configModule.__esModule ? configModule.default || undefined : configModule;\n  } catch (err) {\n    err.message = `${filepath}: Error while loading config - ${err.message}`;\n    throw err;\n  } finally {\n    LOADING_CONFIGS.delete(filepath);\n  }\n\n  if (typeof options === \"function\") {\n    options = options((0, _configApi.default)(cache));\n    if (!cache.configured()) throwConfigError();\n  }\n\n  if (!options || typeof options !== \"object\" || Array.isArray(options)) {\n    throw new Error(`${filepath}: Configuration should be an exported JavaScript object.`);\n  }\n\n  if (typeof options.then === \"function\") {\n    throw new Error(`You appear to be using an async configuration, ` + `which your current version of Babel does not support. ` + `We may add support for this in the future, ` + `but if you're on the most recent version of @babel/core and still ` + `seeing this error, then you'll need to synchronously return your config.`);\n  }\n\n  return {\n    filepath,\n    dirname: _path().default.dirname(filepath),\n    options\n  };\n});\nconst packageToBabelConfig = (0, _caching.makeWeakCache)(file => {\n  const babel = file.options[\"babel\"];\n  if (typeof babel === \"undefined\") return null;\n\n  if (typeof babel !== \"object\" || Array.isArray(babel) || babel === null) {\n    throw new Error(`${file.filepath}: .babel property must be an object`);\n  }\n\n  return {\n    filepath: file.filepath,\n    dirname: file.dirname,\n    options: babel\n  };\n});\nconst readConfigJSON5 = (0, _utils.makeStaticFileCache)((filepath, content) => {\n  let options;\n\n  try {\n    options = _json().default.parse(content);\n  } catch (err) {\n    err.message = `${filepath}: Error while parsing config - ${err.message}`;\n    throw err;\n  }\n\n  if (!options) throw new Error(`${filepath}: No config detected`);\n\n  if (typeof options !== \"object\") {\n    throw new Error(`${filepath}: Config returned typeof ${typeof options}`);\n  }\n\n  if (Array.isArray(options)) {\n    throw new Error(`${filepath}: Expected config object but found array`);\n  }\n\n  return {\n    filepath,\n    dirname: _path().default.dirname(filepath),\n    options\n  };\n});\nconst readIgnoreConfig = (0, _utils.makeStaticFileCache)((filepath, content) => {\n  const ignoreDir = _path().default.dirname(filepath);\n\n  const ignorePatterns = content.split(\"\\n\").map(line => line.replace(/#(.*?)$/, \"\").trim()).filter(line => !!line);\n\n  for (const pattern of ignorePatterns) {\n    if (pattern[0] === \"!\") {\n      throw new Error(`Negation of file paths is not supported.`);\n    }\n  }\n\n  return {\n    filepath,\n    dirname: _path().default.dirname(filepath),\n    ignore: ignorePatterns.map(pattern => (0, _patternToRegex.default)(pattern, ignoreDir))\n  };\n});\n\nfunction throwConfigError() {\n  throw new Error(`\\\nCaching was left unconfigured. Babel's plugins, presets, and .babelrc.js files can be configured\nfor various types of caching, using the first param of their handler functions:\n\nmodule.exports = function(api) {\n  // The API exposes the following:\n\n  // Cache the returned value forever and don't call this function again.\n  api.cache(true);\n\n  // Don't cache at all. Not recommended because it will be very slow.\n  api.cache(false);\n\n  // Cached based on the value of some function. If this function returns a value different from\n  // a previously-encountered value, the plugins will re-evaluate.\n  var env = api.cache(() => process.env.NODE_ENV);\n\n  // If testing for a specific env, we recommend specifics to avoid instantiating a plugin for\n  // any possible NODE_ENV value that might come up during plugin execution.\n  var isProd = api.cache(() => process.env.NODE_ENV === \"production\");\n\n  // .cache(fn) will perform a linear search though instances to find the matching plugin based\n  // based on previous instantiated plugins. If you want to recreate the plugin and discard the\n  // previous instance whenever something changes, you may use:\n  var isProd = api.cache.invalidate(() => process.env.NODE_ENV === \"production\");\n\n  // Note, we also expose the following more-verbose versions of the above examples:\n  api.cache.forever(); // api.cache(true)\n  api.cache.never();   // api.cache(false)\n  api.cache.using(fn); // api.cache(fn)\n\n  // Return the value that will be cached.\n  return { };\n};`);\n}"]}