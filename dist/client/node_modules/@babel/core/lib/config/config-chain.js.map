{"version":3,"sources":["../../../../../../../client/node_modules/@babel/core/lib/config/config-chain.js"],"names":["Object","defineProperty","exports","value","buildPresetChain","buildRootChain","buildPresetChainWalker","_path","data","_interopRequireDefault","require","_debug","_options","_patternToRegex","_files","_caching","_configDescriptors","obj","__esModule","default","debug","arg","context","chain","plugins","dedupDescriptors","presets","options","map","normalizeOptions","o","makeChainWalker","init","root","loadPresetDescriptors","preset","env","envName","loadPresetEnvDescriptors","overrides","index","loadPresetOverridesDescriptors","overridesEnv","loadPresetOverridesEnvDescriptors","makeWeakCache","buildRootDescriptors","alias","createUncachedDescriptors","makeStrongCache","buildEnvDescriptors","buildOverrideDescriptors","buildOverrideEnvDescriptors","opts","programmaticChain","loadProgrammaticChain","dirname","cwd","configFile","loadConfig","caller","findRootConfig","babelrc","babelrcRoots","babelrcRootsDirectory","configFileChain","emptyChain","validatedFile","validateConfigFile","result","loadFileChain","undefined","mergeChain","pkgData","filename","findPackageData","ignoreFile","babelrcFile","fileChain","babelrcLoadEnabled","findRelativeConfig","ignore","config","shouldIgnore","validateBabelrcFile","absoluteRoot","directories","indexOf","babelrcPatterns","Array","isArray","pat","resolve","length","some","matchPattern","directory","filepath","file","validate","validateExtendFile","input","createCachedDescriptors","loadFileDescriptors","loadFileEnvDescriptors","loadFileOverridesDescriptors","loadFileOverridesEnvDescriptors","descriptors","Error","override","files","Set","flattenedConfigs","rootOpts","configIsApplicable","push","envOpts","forEach","_","overrideOps","overrideEnvOpts","only","op","mergeExtendsChain","mergeChainOpts","extends","has","from","join","add","delete","target","source","assign","passPerPreset","test","include","exclude","hasOwnProperty","sourceMaps","sourceMap","items","Map","item","fnKey","nameMap","get","set","desc","name","ownPass","reduce","acc","configFieldIsApplicable","patterns","matchesPatterns","pattern","pathToTest"],"mappings":"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","file":"config-chain.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.buildPresetChain = buildPresetChain;\nexports.buildRootChain = buildRootChain;\nexports.buildPresetChainWalker = void 0;\n\nfunction _path() {\n  const data = _interopRequireDefault(require(\"path\"));\n\n  _path = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _debug() {\n  const data = _interopRequireDefault(require(\"debug\"));\n\n  _debug = function () {\n    return data;\n  };\n\n  return data;\n}\n\nvar _options = require(\"./validation/options\");\n\nvar _patternToRegex = _interopRequireDefault(require(\"./pattern-to-regex\"));\n\nvar _files = require(\"./files\");\n\nvar _caching = require(\"./caching\");\n\nvar _configDescriptors = require(\"./config-descriptors\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst debug = (0, _debug().default)(\"babel:config:config-chain\");\n\nfunction buildPresetChain(arg, context) {\n  const chain = buildPresetChainWalker(arg, context);\n  if (!chain) return null;\n  return {\n    plugins: dedupDescriptors(chain.plugins),\n    presets: dedupDescriptors(chain.presets),\n    options: chain.options.map(o => normalizeOptions(o))\n  };\n}\n\nconst buildPresetChainWalker = makeChainWalker({\n  init: arg => arg,\n  root: preset => loadPresetDescriptors(preset),\n  env: (preset, envName) => loadPresetEnvDescriptors(preset)(envName),\n  overrides: (preset, index) => loadPresetOverridesDescriptors(preset)(index),\n  overridesEnv: (preset, index, envName) => loadPresetOverridesEnvDescriptors(preset)(index)(envName)\n});\nexports.buildPresetChainWalker = buildPresetChainWalker;\nconst loadPresetDescriptors = (0, _caching.makeWeakCache)(preset => buildRootDescriptors(preset, preset.alias, _configDescriptors.createUncachedDescriptors));\nconst loadPresetEnvDescriptors = (0, _caching.makeWeakCache)(preset => (0, _caching.makeStrongCache)(envName => buildEnvDescriptors(preset, preset.alias, _configDescriptors.createUncachedDescriptors, envName)));\nconst loadPresetOverridesDescriptors = (0, _caching.makeWeakCache)(preset => (0, _caching.makeStrongCache)(index => buildOverrideDescriptors(preset, preset.alias, _configDescriptors.createUncachedDescriptors, index)));\nconst loadPresetOverridesEnvDescriptors = (0, _caching.makeWeakCache)(preset => (0, _caching.makeStrongCache)(index => (0, _caching.makeStrongCache)(envName => buildOverrideEnvDescriptors(preset, preset.alias, _configDescriptors.createUncachedDescriptors, index, envName))));\n\nfunction buildRootChain(opts, context) {\n  const programmaticChain = loadProgrammaticChain({\n    options: opts,\n    dirname: context.cwd\n  }, context);\n  if (!programmaticChain) return null;\n  let configFile;\n\n  if (typeof opts.configFile === \"string\") {\n    configFile = (0, _files.loadConfig)(opts.configFile, context.cwd, context.envName, context.caller);\n  } else if (opts.configFile !== false) {\n    configFile = (0, _files.findRootConfig)(context.root, context.envName, context.caller);\n  }\n\n  let {\n    babelrc,\n    babelrcRoots\n  } = opts;\n  let babelrcRootsDirectory = context.cwd;\n  const configFileChain = emptyChain();\n\n  if (configFile) {\n    const validatedFile = validateConfigFile(configFile);\n    const result = loadFileChain(validatedFile, context);\n    if (!result) return null;\n\n    if (babelrc === undefined) {\n      babelrc = validatedFile.options.babelrc;\n    }\n\n    if (babelrcRoots === undefined) {\n      babelrcRootsDirectory = validatedFile.dirname;\n      babelrcRoots = validatedFile.options.babelrcRoots;\n    }\n\n    mergeChain(configFileChain, result);\n  }\n\n  const pkgData = typeof context.filename === \"string\" ? (0, _files.findPackageData)(context.filename) : null;\n  let ignoreFile, babelrcFile;\n  const fileChain = emptyChain();\n\n  if ((babelrc === true || babelrc === undefined) && pkgData && babelrcLoadEnabled(context, pkgData, babelrcRoots, babelrcRootsDirectory)) {\n    ({\n      ignore: ignoreFile,\n      config: babelrcFile\n    } = (0, _files.findRelativeConfig)(pkgData, context.envName, context.caller));\n\n    if (ignoreFile && shouldIgnore(context, ignoreFile.ignore, null, ignoreFile.dirname)) {\n      return null;\n    }\n\n    if (babelrcFile) {\n      const result = loadFileChain(validateBabelrcFile(babelrcFile), context);\n      if (!result) return null;\n      mergeChain(fileChain, result);\n    }\n  }\n\n  const chain = mergeChain(mergeChain(mergeChain(emptyChain(), configFileChain), fileChain), programmaticChain);\n  return {\n    plugins: dedupDescriptors(chain.plugins),\n    presets: dedupDescriptors(chain.presets),\n    options: chain.options.map(o => normalizeOptions(o)),\n    ignore: ignoreFile || undefined,\n    babelrc: babelrcFile || undefined,\n    config: configFile || undefined\n  };\n}\n\nfunction babelrcLoadEnabled(context, pkgData, babelrcRoots, babelrcRootsDirectory) {\n  if (typeof babelrcRoots === \"boolean\") return babelrcRoots;\n  const absoluteRoot = context.root;\n\n  if (babelrcRoots === undefined) {\n    return pkgData.directories.indexOf(absoluteRoot) !== -1;\n  }\n\n  let babelrcPatterns = babelrcRoots;\n  if (!Array.isArray(babelrcPatterns)) babelrcPatterns = [babelrcPatterns];\n  babelrcPatterns = babelrcPatterns.map(pat => {\n    return typeof pat === \"string\" ? _path().default.resolve(babelrcRootsDirectory, pat) : pat;\n  });\n\n  if (babelrcPatterns.length === 1 && babelrcPatterns[0] === absoluteRoot) {\n    return pkgData.directories.indexOf(absoluteRoot) !== -1;\n  }\n\n  return babelrcPatterns.some(pat => {\n    if (typeof pat === \"string\") {\n      pat = (0, _patternToRegex.default)(pat, babelrcRootsDirectory);\n    }\n\n    return pkgData.directories.some(directory => {\n      return matchPattern(pat, babelrcRootsDirectory, directory, context);\n    });\n  });\n}\n\nconst validateConfigFile = (0, _caching.makeWeakCache)(file => ({\n  filepath: file.filepath,\n  dirname: file.dirname,\n  options: (0, _options.validate)(\"configfile\", file.options)\n}));\nconst validateBabelrcFile = (0, _caching.makeWeakCache)(file => ({\n  filepath: file.filepath,\n  dirname: file.dirname,\n  options: (0, _options.validate)(\"babelrcfile\", file.options)\n}));\nconst validateExtendFile = (0, _caching.makeWeakCache)(file => ({\n  filepath: file.filepath,\n  dirname: file.dirname,\n  options: (0, _options.validate)(\"extendsfile\", file.options)\n}));\nconst loadProgrammaticChain = makeChainWalker({\n  root: input => buildRootDescriptors(input, \"base\", _configDescriptors.createCachedDescriptors),\n  env: (input, envName) => buildEnvDescriptors(input, \"base\", _configDescriptors.createCachedDescriptors, envName),\n  overrides: (input, index) => buildOverrideDescriptors(input, \"base\", _configDescriptors.createCachedDescriptors, index),\n  overridesEnv: (input, index, envName) => buildOverrideEnvDescriptors(input, \"base\", _configDescriptors.createCachedDescriptors, index, envName)\n});\nconst loadFileChain = makeChainWalker({\n  root: file => loadFileDescriptors(file),\n  env: (file, envName) => loadFileEnvDescriptors(file)(envName),\n  overrides: (file, index) => loadFileOverridesDescriptors(file)(index),\n  overridesEnv: (file, index, envName) => loadFileOverridesEnvDescriptors(file)(index)(envName)\n});\nconst loadFileDescriptors = (0, _caching.makeWeakCache)(file => buildRootDescriptors(file, file.filepath, _configDescriptors.createUncachedDescriptors));\nconst loadFileEnvDescriptors = (0, _caching.makeWeakCache)(file => (0, _caching.makeStrongCache)(envName => buildEnvDescriptors(file, file.filepath, _configDescriptors.createUncachedDescriptors, envName)));\nconst loadFileOverridesDescriptors = (0, _caching.makeWeakCache)(file => (0, _caching.makeStrongCache)(index => buildOverrideDescriptors(file, file.filepath, _configDescriptors.createUncachedDescriptors, index)));\nconst loadFileOverridesEnvDescriptors = (0, _caching.makeWeakCache)(file => (0, _caching.makeStrongCache)(index => (0, _caching.makeStrongCache)(envName => buildOverrideEnvDescriptors(file, file.filepath, _configDescriptors.createUncachedDescriptors, index, envName))));\n\nfunction buildRootDescriptors({\n  dirname,\n  options\n}, alias, descriptors) {\n  return descriptors(dirname, options, alias);\n}\n\nfunction buildEnvDescriptors({\n  dirname,\n  options\n}, alias, descriptors, envName) {\n  const opts = options.env && options.env[envName];\n  return opts ? descriptors(dirname, opts, `${alias}.env[\"${envName}\"]`) : null;\n}\n\nfunction buildOverrideDescriptors({\n  dirname,\n  options\n}, alias, descriptors, index) {\n  const opts = options.overrides && options.overrides[index];\n  if (!opts) throw new Error(\"Assertion failure - missing override\");\n  return descriptors(dirname, opts, `${alias}.overrides[${index}]`);\n}\n\nfunction buildOverrideEnvDescriptors({\n  dirname,\n  options\n}, alias, descriptors, index, envName) {\n  const override = options.overrides && options.overrides[index];\n  if (!override) throw new Error(\"Assertion failure - missing override\");\n  const opts = override.env && override.env[envName];\n  return opts ? descriptors(dirname, opts, `${alias}.overrides[${index}].env[\"${envName}\"]`) : null;\n}\n\nfunction makeChainWalker({\n  root,\n  env,\n  overrides,\n  overridesEnv\n}) {\n  return (input, context, files = new Set()) => {\n    const {\n      dirname\n    } = input;\n    const flattenedConfigs = [];\n    const rootOpts = root(input);\n\n    if (configIsApplicable(rootOpts, dirname, context)) {\n      flattenedConfigs.push(rootOpts);\n      const envOpts = env(input, context.envName);\n\n      if (envOpts && configIsApplicable(envOpts, dirname, context)) {\n        flattenedConfigs.push(envOpts);\n      }\n\n      (rootOpts.options.overrides || []).forEach((_, index) => {\n        const overrideOps = overrides(input, index);\n\n        if (configIsApplicable(overrideOps, dirname, context)) {\n          flattenedConfigs.push(overrideOps);\n          const overrideEnvOpts = overridesEnv(input, index, context.envName);\n\n          if (overrideEnvOpts && configIsApplicable(overrideEnvOpts, dirname, context)) {\n            flattenedConfigs.push(overrideEnvOpts);\n          }\n        }\n      });\n    }\n\n    if (flattenedConfigs.some(({\n      options: {\n        ignore,\n        only\n      }\n    }) => shouldIgnore(context, ignore, only, dirname))) {\n      return null;\n    }\n\n    const chain = emptyChain();\n\n    for (const op of flattenedConfigs) {\n      if (!mergeExtendsChain(chain, op.options, dirname, context, files)) {\n        return null;\n      }\n\n      mergeChainOpts(chain, op);\n    }\n\n    return chain;\n  };\n}\n\nfunction mergeExtendsChain(chain, opts, dirname, context, files) {\n  if (opts.extends === undefined) return true;\n  const file = (0, _files.loadConfig)(opts.extends, dirname, context.envName, context.caller);\n\n  if (files.has(file)) {\n    throw new Error(`Configuration cycle detected loading ${file.filepath}.\\n` + `File already loaded following the config chain:\\n` + Array.from(files, file => ` - ${file.filepath}`).join(\"\\n\"));\n  }\n\n  files.add(file);\n  const fileChain = loadFileChain(validateExtendFile(file), context, files);\n  files.delete(file);\n  if (!fileChain) return false;\n  mergeChain(chain, fileChain);\n  return true;\n}\n\nfunction mergeChain(target, source) {\n  target.options.push(...source.options);\n  target.plugins.push(...source.plugins);\n  target.presets.push(...source.presets);\n  return target;\n}\n\nfunction mergeChainOpts(target, {\n  options,\n  plugins,\n  presets\n}) {\n  target.options.push(options);\n  target.plugins.push(...plugins());\n  target.presets.push(...presets());\n  return target;\n}\n\nfunction emptyChain() {\n  return {\n    options: [],\n    presets: [],\n    plugins: []\n  };\n}\n\nfunction normalizeOptions(opts) {\n  const options = Object.assign({}, opts);\n  delete options.extends;\n  delete options.env;\n  delete options.overrides;\n  delete options.plugins;\n  delete options.presets;\n  delete options.passPerPreset;\n  delete options.ignore;\n  delete options.only;\n  delete options.test;\n  delete options.include;\n  delete options.exclude;\n\n  if (options.hasOwnProperty(\"sourceMap\")) {\n    options.sourceMaps = options.sourceMap;\n    delete options.sourceMap;\n  }\n\n  return options;\n}\n\nfunction dedupDescriptors(items) {\n  const map = new Map();\n  const descriptors = [];\n\n  for (const item of items) {\n    if (typeof item.value === \"function\") {\n      const fnKey = item.value;\n      let nameMap = map.get(fnKey);\n\n      if (!nameMap) {\n        nameMap = new Map();\n        map.set(fnKey, nameMap);\n      }\n\n      let desc = nameMap.get(item.name);\n\n      if (!desc) {\n        desc = {\n          value: item\n        };\n        descriptors.push(desc);\n        if (!item.ownPass) nameMap.set(item.name, desc);\n      } else {\n        desc.value = item;\n      }\n    } else {\n      descriptors.push({\n        value: item\n      });\n    }\n  }\n\n  return descriptors.reduce((acc, desc) => {\n    acc.push(desc.value);\n    return acc;\n  }, []);\n}\n\nfunction configIsApplicable({\n  options\n}, dirname, context) {\n  return (options.test === undefined || configFieldIsApplicable(context, options.test, dirname)) && (options.include === undefined || configFieldIsApplicable(context, options.include, dirname)) && (options.exclude === undefined || !configFieldIsApplicable(context, options.exclude, dirname));\n}\n\nfunction configFieldIsApplicable(context, test, dirname) {\n  const patterns = Array.isArray(test) ? test : [test];\n  return matchesPatterns(context, patterns, dirname);\n}\n\nfunction shouldIgnore(context, ignore, only, dirname) {\n  if (ignore && matchesPatterns(context, ignore, dirname)) {\n    debug(\"Ignored %o because it matched one of %O from %o\", context.filename, ignore, dirname);\n    return true;\n  }\n\n  if (only && !matchesPatterns(context, only, dirname)) {\n    debug(\"Ignored %o because it failed to match one of %O from %o\", context.filename, only, dirname);\n    return true;\n  }\n\n  return false;\n}\n\nfunction matchesPatterns(context, patterns, dirname) {\n  return patterns.some(pattern => matchPattern(pattern, dirname, context.filename, context));\n}\n\nfunction matchPattern(pattern, dirname, pathToTest, context) {\n  if (typeof pattern === \"function\") {\n    return !!pattern(pathToTest, {\n      dirname,\n      envName: context.envName,\n      caller: context.caller\n    });\n  }\n\n  if (typeof pathToTest !== \"string\") {\n    throw new Error(`Configuration contains string/RegExp pattern, but no filename was passed to Babel`);\n  }\n\n  if (typeof pattern === \"string\") {\n    pattern = (0, _patternToRegex.default)(pattern, dirname);\n  }\n\n  return pattern.test(pathToTest);\n}"]}