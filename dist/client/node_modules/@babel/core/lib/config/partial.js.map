{"version":3,"sources":["../../../../../../../client/node_modules/@babel/core/lib/config/partial.js"],"names":["Object","defineProperty","exports","value","default","loadPrivatePartialConfig","loadPartialConfig","_path","data","_interopRequireDefault","require","_plugin","_util","_item","_configChain","_environment","_options","_files","obj","__esModule","resolveRootMode","rootDir","rootMode","upwardRootDir","findConfigUpwards","assign","Error","code","dirname","inputOpts","Array","isArray","args","validate","envName","getEnv","cwd","root","caller","absoluteCwd","resolve","absoluteRootDir","context","filename","undefined","configChain","buildRootChain","options","forEach","mergeOptions","opts","babelrc","configFile","passPerPreset","plugins","map","createItemFromDescriptor","descriptor","presets","ignore","config","result","item","PartialConfig","filepath","babelignore","freeze","prototype"],"mappings":"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","file":"partial.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = loadPrivatePartialConfig;\nexports.loadPartialConfig = loadPartialConfig;\n\nfunction _path() {\n  const data = _interopRequireDefault(require(\"path\"));\n\n  _path = function () {\n    return data;\n  };\n\n  return data;\n}\n\nvar _plugin = _interopRequireDefault(require(\"./plugin\"));\n\nvar _util = require(\"./util\");\n\nvar _item = require(\"./item\");\n\nvar _configChain = require(\"./config-chain\");\n\nvar _environment = require(\"./helpers/environment\");\n\nvar _options = require(\"./validation/options\");\n\nvar _files = require(\"./files\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction resolveRootMode(rootDir, rootMode) {\n  switch (rootMode) {\n    case \"root\":\n      return rootDir;\n\n    case \"upward-optional\":\n      {\n        const upwardRootDir = (0, _files.findConfigUpwards)(rootDir);\n        return upwardRootDir === null ? rootDir : upwardRootDir;\n      }\n\n    case \"upward\":\n      {\n        const upwardRootDir = (0, _files.findConfigUpwards)(rootDir);\n        if (upwardRootDir !== null) return upwardRootDir;\n        throw Object.assign(new Error(`Babel was run with rootMode:\"upward\" but a root could not ` + `be found when searching upward from \"${rootDir}\"`), {\n          code: \"BABEL_ROOT_NOT_FOUND\",\n          dirname: rootDir\n        });\n      }\n\n    default:\n      throw new Error(`Assertion failure - unknown rootMode value`);\n  }\n}\n\nfunction loadPrivatePartialConfig(inputOpts) {\n  if (inputOpts != null && (typeof inputOpts !== \"object\" || Array.isArray(inputOpts))) {\n    throw new Error(\"Babel options must be an object, null, or undefined\");\n  }\n\n  const args = inputOpts ? (0, _options.validate)(\"arguments\", inputOpts) : {};\n  const {\n    envName = (0, _environment.getEnv)(),\n    cwd = \".\",\n    root: rootDir = \".\",\n    rootMode = \"root\",\n    caller\n  } = args;\n\n  const absoluteCwd = _path().default.resolve(cwd);\n\n  const absoluteRootDir = resolveRootMode(_path().default.resolve(absoluteCwd, rootDir), rootMode);\n  const context = {\n    filename: typeof args.filename === \"string\" ? _path().default.resolve(cwd, args.filename) : undefined,\n    cwd: absoluteCwd,\n    root: absoluteRootDir,\n    envName,\n    caller\n  };\n  const configChain = (0, _configChain.buildRootChain)(args, context);\n  if (!configChain) return null;\n  const options = {};\n  configChain.options.forEach(opts => {\n    (0, _util.mergeOptions)(options, opts);\n  });\n  options.babelrc = false;\n  options.configFile = false;\n  options.passPerPreset = false;\n  options.envName = context.envName;\n  options.cwd = context.cwd;\n  options.root = context.root;\n  options.filename = typeof context.filename === \"string\" ? context.filename : undefined;\n  options.plugins = configChain.plugins.map(descriptor => (0, _item.createItemFromDescriptor)(descriptor));\n  options.presets = configChain.presets.map(descriptor => (0, _item.createItemFromDescriptor)(descriptor));\n  return {\n    options,\n    context,\n    ignore: configChain.ignore,\n    babelrc: configChain.babelrc,\n    config: configChain.config\n  };\n}\n\nfunction loadPartialConfig(inputOpts) {\n  const result = loadPrivatePartialConfig(inputOpts);\n  if (!result) return null;\n  const {\n    options,\n    babelrc,\n    ignore,\n    config\n  } = result;\n  (options.plugins || []).forEach(item => {\n    if (item.value instanceof _plugin.default) {\n      throw new Error(\"Passing cached plugin instances is not supported in \" + \"babel.loadPartialConfig()\");\n    }\n  });\n  return new PartialConfig(options, babelrc ? babelrc.filepath : undefined, ignore ? ignore.filepath : undefined, config ? config.filepath : undefined);\n}\n\nclass PartialConfig {\n  constructor(options, babelrc, ignore, config) {\n    this.options = options;\n    this.babelignore = ignore;\n    this.babelrc = babelrc;\n    this.config = config;\n    Object.freeze(this);\n  }\n\n  hasFilesystemConfig() {\n    return this.babelrc !== undefined || this.config !== undefined;\n  }\n\n}\n\nObject.freeze(PartialConfig.prototype);"]}