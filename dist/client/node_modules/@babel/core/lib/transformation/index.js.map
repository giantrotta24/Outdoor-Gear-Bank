{"version":3,"sources":["../../../../../../../client/node_modules/@babel/core/lib/transformation/index.js"],"names":["Object","defineProperty","exports","value","runAsync","runSync","_traverse","data","_interopRequireDefault","require","_pluginPass","_blockHoistPlugin","_normalizeOpts","_normalizeFile","_generate","obj","__esModule","default","config","code","ast","callback","result","err","file","passes","transformFile","opts","outputCode","outputMap","metadata","options","undefined","map","sourceType","program","pluginPasses","pluginPairs","passPairs","visitors","concat","plugin","pass","key","push","visitor","fn","pre","call","isThenable","Error","merge","wrapPluginVisitorMethod","scope","post","val","then"],"mappings":"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","file":"index.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.runAsync = runAsync;\nexports.runSync = runSync;\n\nfunction _traverse() {\n  const data = _interopRequireDefault(require(\"@babel/traverse\"));\n\n  _traverse = function () {\n    return data;\n  };\n\n  return data;\n}\n\nvar _pluginPass = _interopRequireDefault(require(\"./plugin-pass\"));\n\nvar _blockHoistPlugin = _interopRequireDefault(require(\"./block-hoist-plugin\"));\n\nvar _normalizeOpts = _interopRequireDefault(require(\"./normalize-opts\"));\n\nvar _normalizeFile = _interopRequireDefault(require(\"./normalize-file\"));\n\nvar _generate = _interopRequireDefault(require(\"./file/generate\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction runAsync(config, code, ast, callback) {\n  let result;\n\n  try {\n    result = runSync(config, code, ast);\n  } catch (err) {\n    return callback(err);\n  }\n\n  return callback(null, result);\n}\n\nfunction runSync(config, code, ast) {\n  const file = (0, _normalizeFile.default)(config.passes, (0, _normalizeOpts.default)(config), code, ast);\n  transformFile(file, config.passes);\n  const opts = file.opts;\n  const {\n    outputCode,\n    outputMap\n  } = opts.code !== false ? (0, _generate.default)(config.passes, file) : {};\n  return {\n    metadata: file.metadata,\n    options: opts,\n    ast: opts.ast === true ? file.ast : null,\n    code: outputCode === undefined ? null : outputCode,\n    map: outputMap === undefined ? null : outputMap,\n    sourceType: file.ast.program.sourceType\n  };\n}\n\nfunction transformFile(file, pluginPasses) {\n  for (const pluginPairs of pluginPasses) {\n    const passPairs = [];\n    const passes = [];\n    const visitors = [];\n\n    for (const plugin of pluginPairs.concat([(0, _blockHoistPlugin.default)()])) {\n      const pass = new _pluginPass.default(file, plugin.key, plugin.options);\n      passPairs.push([plugin, pass]);\n      passes.push(pass);\n      visitors.push(plugin.visitor);\n    }\n\n    for (const [plugin, pass] of passPairs) {\n      const fn = plugin.pre;\n\n      if (fn) {\n        const result = fn.call(pass, file);\n\n        if (isThenable(result)) {\n          throw new Error(`You appear to be using an plugin with an async .pre, ` + `which your current version of Babel does not support.` + `If you're using a published plugin, you may need to upgrade ` + `your @babel/core version.`);\n        }\n      }\n    }\n\n    const visitor = _traverse().default.visitors.merge(visitors, passes, file.opts.wrapPluginVisitorMethod);\n\n    (0, _traverse().default)(file.ast, visitor, file.scope);\n\n    for (const [plugin, pass] of passPairs) {\n      const fn = plugin.post;\n\n      if (fn) {\n        const result = fn.call(pass, file);\n\n        if (isThenable(result)) {\n          throw new Error(`You appear to be using an plugin with an async .post, ` + `which your current version of Babel does not support.` + `If you're using a published plugin, you may need to upgrade ` + `your @babel/core version.`);\n        }\n      }\n    }\n  }\n}\n\nfunction isThenable(val) {\n  return !!val && (typeof val === \"object\" || typeof val === \"function\") && typeof val.then === \"function\";\n}"]}