{"version":3,"sources":["../../../../../../client/node_modules/@babel/helper-module-imports/lib/import-injector.js"],"names":["Object","defineProperty","exports","value","default","_assert","data","_interopRequireDefault","require","t","_interopRequireWildcard","_importBuilder","_isModule","obj","__esModule","newObj","key","prototype","hasOwnProperty","call","desc","getOwnPropertyDescriptor","get","set","ImportInjector","path","importedSource","opts","_defaultOpts","importedType","importedInterop","importingInterop","ensureLiveReference","ensureNoContext","programPath","find","p","isProgram","_programPath","_programScope","scope","_hub","hub","_applyDefaults","importedSourceIn","addNamed","importName","_generateImport","isInit","optsList","push","newOpts","assign","keys","forEach","undefined","nameHint","blockHoist","isDefault","isNamed","isNamespace","name","isMod","isModuleForNode","isModuleForBabel","builder","Error","import","namespace","named","es6Default","var","wildcardInterop","defaultInterop","read","prop","done","statements","resultName","_insertStatements","type","sequenceExpression","numericLiteral","node","_blockHoist","targetPath","filter","val","Number","isFinite","insertBefore","unshiftContainer"],"mappings":"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","file":"import-injector.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nfunction _assert() {\n  const data = _interopRequireDefault(require(\"assert\"));\n\n  _assert = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction t() {\n  const data = _interopRequireWildcard(require(\"@babel/types\"));\n\n  t = function () {\n    return data;\n  };\n\n  return data;\n}\n\nvar _importBuilder = _interopRequireDefault(require(\"./import-builder\"));\n\nvar _isModule = _interopRequireDefault(require(\"./is-module\"));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass ImportInjector {\n  constructor(path, importedSource, opts) {\n    this._defaultOpts = {\n      importedSource: null,\n      importedType: \"commonjs\",\n      importedInterop: \"babel\",\n      importingInterop: \"babel\",\n      ensureLiveReference: false,\n      ensureNoContext: false\n    };\n    const programPath = path.find(p => p.isProgram());\n    this._programPath = programPath;\n    this._programScope = programPath.scope;\n    this._hub = programPath.hub;\n    this._defaultOpts = this._applyDefaults(importedSource, opts, true);\n  }\n\n  addDefault(importedSourceIn, opts) {\n    return this.addNamed(\"default\", importedSourceIn, opts);\n  }\n\n  addNamed(importName, importedSourceIn, opts) {\n    (0, _assert().default)(typeof importName === \"string\");\n    return this._generateImport(this._applyDefaults(importedSourceIn, opts), importName);\n  }\n\n  addNamespace(importedSourceIn, opts) {\n    return this._generateImport(this._applyDefaults(importedSourceIn, opts), null);\n  }\n\n  addSideEffect(importedSourceIn, opts) {\n    return this._generateImport(this._applyDefaults(importedSourceIn, opts), false);\n  }\n\n  _applyDefaults(importedSource, opts, isInit = false) {\n    const optsList = [];\n\n    if (typeof importedSource === \"string\") {\n      optsList.push({\n        importedSource\n      });\n      optsList.push(opts);\n    } else {\n      (0, _assert().default)(!opts, \"Unexpected secondary arguments.\");\n      optsList.push(importedSource);\n    }\n\n    const newOpts = Object.assign({}, this._defaultOpts);\n\n    for (const opts of optsList) {\n      if (!opts) continue;\n      Object.keys(newOpts).forEach(key => {\n        if (opts[key] !== undefined) newOpts[key] = opts[key];\n      });\n\n      if (!isInit) {\n        if (opts.nameHint !== undefined) newOpts.nameHint = opts.nameHint;\n        if (opts.blockHoist !== undefined) newOpts.blockHoist = opts.blockHoist;\n      }\n    }\n\n    return newOpts;\n  }\n\n  _generateImport(opts, importName) {\n    const isDefault = importName === \"default\";\n    const isNamed = !!importName && !isDefault;\n    const isNamespace = importName === null;\n    const {\n      importedSource,\n      importedType,\n      importedInterop,\n      importingInterop,\n      ensureLiveReference,\n      ensureNoContext,\n      nameHint,\n      blockHoist\n    } = opts;\n    let name = nameHint || importName;\n    const isMod = (0, _isModule.default)(this._programPath);\n    const isModuleForNode = isMod && importingInterop === \"node\";\n    const isModuleForBabel = isMod && importingInterop === \"babel\";\n    const builder = new _importBuilder.default(importedSource, this._programScope, this._hub);\n\n    if (importedType === \"es6\") {\n      if (!isModuleForNode && !isModuleForBabel) {\n        throw new Error(\"Cannot import an ES6 module from CommonJS\");\n      }\n\n      builder.import();\n\n      if (isNamespace) {\n        builder.namespace(nameHint || importedSource);\n      } else if (isDefault || isNamed) {\n        builder.named(name, importName);\n      }\n    } else if (importedType !== \"commonjs\") {\n      throw new Error(`Unexpected interopType \"${importedType}\"`);\n    } else if (importedInterop === \"babel\") {\n      if (isModuleForNode) {\n        name = name !== \"default\" ? name : importedSource;\n        const es6Default = `${importedSource}$es6Default`;\n        builder.import();\n\n        if (isNamespace) {\n          builder.default(es6Default).var(name || importedSource).wildcardInterop();\n        } else if (isDefault) {\n          if (ensureLiveReference) {\n            builder.default(es6Default).var(name || importedSource).defaultInterop().read(\"default\");\n          } else {\n            builder.default(es6Default).var(name).defaultInterop().prop(importName);\n          }\n        } else if (isNamed) {\n          builder.default(es6Default).read(importName);\n        }\n      } else if (isModuleForBabel) {\n        builder.import();\n\n        if (isNamespace) {\n          builder.namespace(name || importedSource);\n        } else if (isDefault || isNamed) {\n          builder.named(name, importName);\n        }\n      } else {\n        builder.require();\n\n        if (isNamespace) {\n          builder.var(name || importedSource).wildcardInterop();\n        } else if ((isDefault || isNamed) && ensureLiveReference) {\n          if (isDefault) {\n            name = name !== \"default\" ? name : importedSource;\n            builder.var(name).read(importName);\n            builder.defaultInterop();\n          } else {\n            builder.var(importedSource).read(importName);\n          }\n        } else if (isDefault) {\n          builder.var(name).defaultInterop().prop(importName);\n        } else if (isNamed) {\n          builder.var(name).prop(importName);\n        }\n      }\n    } else if (importedInterop === \"compiled\") {\n      if (isModuleForNode) {\n        builder.import();\n\n        if (isNamespace) {\n          builder.default(name || importedSource);\n        } else if (isDefault || isNamed) {\n          builder.default(importedSource).read(name);\n        }\n      } else if (isModuleForBabel) {\n        builder.import();\n\n        if (isNamespace) {\n          builder.namespace(name || importedSource);\n        } else if (isDefault || isNamed) {\n          builder.named(name, importName);\n        }\n      } else {\n        builder.require();\n\n        if (isNamespace) {\n          builder.var(name || importedSource);\n        } else if (isDefault || isNamed) {\n          if (ensureLiveReference) {\n            builder.var(importedSource).read(name);\n          } else {\n            builder.prop(importName).var(name);\n          }\n        }\n      }\n    } else if (importedInterop === \"uncompiled\") {\n      if (isDefault && ensureLiveReference) {\n        throw new Error(\"No live reference for commonjs default\");\n      }\n\n      if (isModuleForNode) {\n        builder.import();\n\n        if (isNamespace) {\n          builder.default(name || importedSource);\n        } else if (isDefault) {\n          builder.default(name);\n        } else if (isNamed) {\n          builder.default(importedSource).read(name);\n        }\n      } else if (isModuleForBabel) {\n        builder.import();\n\n        if (isNamespace) {\n          builder.default(name || importedSource);\n        } else if (isDefault) {\n          builder.default(name);\n        } else if (isNamed) {\n          builder.named(name, importName);\n        }\n      } else {\n        builder.require();\n\n        if (isNamespace) {\n          builder.var(name || importedSource);\n        } else if (isDefault) {\n          builder.var(name);\n        } else if (isNamed) {\n          if (ensureLiveReference) {\n            builder.var(importedSource).read(name);\n          } else {\n            builder.var(name).prop(importName);\n          }\n        }\n      }\n    } else {\n      throw new Error(`Unknown importedInterop \"${importedInterop}\".`);\n    }\n\n    const {\n      statements,\n      resultName\n    } = builder.done();\n\n    this._insertStatements(statements, blockHoist);\n\n    if ((isDefault || isNamed) && ensureNoContext && resultName.type !== \"Identifier\") {\n      return t().sequenceExpression([t().numericLiteral(0), resultName]);\n    }\n\n    return resultName;\n  }\n\n  _insertStatements(statements, blockHoist = 3) {\n    statements.forEach(node => {\n      node._blockHoist = blockHoist;\n    });\n\n    const targetPath = this._programPath.get(\"body\").filter(p => {\n      const val = p.node._blockHoist;\n      return Number.isFinite(val) && val < 4;\n    })[0];\n\n    if (targetPath) {\n      targetPath.insertBefore(statements);\n    } else {\n      this._programPath.unshiftContainer(\"body\", statements);\n    }\n  }\n\n}\n\nexports.default = ImportInjector;"]}